System.register(["./index-legacy-y40lCERW.js"],function(t,a){"use strict";var e,r,n,i,s,o,d,l,c,g,u,m,f,v,b,p,k,h,x,y,_,S,w,C,P,z;return{setters:[t=>{e=t.d,r=t.r,n=t.c,i=t.o,s=t.u,o=t.a,d=t.w,l=t.n,c=t.b,g=t.I,u=t.e,m=t.f,f=t.g,v=t.h,b=t.i,p=t.j,k=t.k,h=t.l,x=t.t,y=t.m,_=t.p,S=t.q,w=t.s,C=t.P,P=t.v,z=t._}],execute:function(){var a=document.createElement("style");a.textContent=".saintPage.theme-light[data-v-50144d93]{--mk-bg1:#f4f7fb;--mk-bg2:#ffffff;--mk-text:#0b1f33;--mk-card:#ffffff;--mk-accent:#20b2aa;--mk-dark:#182a44;--mk-danger:#d64545;--mk-border:rgba(24,42,68,.1);--mk-shadow:0 8px 18px rgba(10,20,30,.07);--mk-shadow-strong:0 14px 28px rgba(10,20,30,.1);--mk-soft:rgba(32,178,170,.12);--mk-soft-border:rgba(32,178,170,.28)}.saintPage.theme-dark[data-v-50144d93]{--mk-bg1:#060b12;--mk-bg2:#0b1220;--mk-text:#f5f7fa;--mk-card:rgba(255,255,255,.08);--mk-accent:#28d6cc;--mk-dark:#0f1b2f;--mk-danger:#ff7a7a;--mk-border:rgba(255,255,255,.14);--mk-shadow:0 14px 28px rgba(0,0,0,.45);--mk-shadow-strong:0 18px 34px rgba(0,0,0,.6);--mk-soft:rgba(40,214,204,.2);--mk-soft-border:rgba(40,214,204,.35)}.content[data-v-50144d93]{color:var(--mk-text)}.bg[data-v-50144d93]{position:fixed;top:0;right:0;bottom:0;left:0;background:radial-gradient(1200px 600px at 20% -10%,rgba(32,178,170,.22),transparent 60%),radial-gradient(900px 500px at 90% 0%,rgba(24,42,68,.18),transparent 55%),linear-gradient(to bottom,var(--mk-bg1),var(--mk-bg2));z-index:0}.wrap[data-v-50144d93]{position:relative;z-index:1;padding:calc(env(safe-area-inset-top) + 22px) 16px 0;max-width:720px;margin:0 auto;transform:scale(var(--mk-fontScale, 1));transform-origin:top center}.pageTitle[data-v-50144d93]{text-align:center;font-family:Noto Kufi Arabic,system-ui,sans-serif;font-size:15px;font-weight:900;margin:10px 0 14px;color:var(--mk-text)}.card[data-v-50144d93]{background:var(--mk-card);border-radius:18px;border:1px solid var(--mk-border);box-shadow:var(--mk-shadow);padding:20px 18px}.saintPage.theme-dark .card[data-v-50144d93]{background:rgba(255,255,255,.06)}.bigCard[data-v-50144d93]{margin:12px 0}.text[data-v-50144d93]{font-family:Noto Kufi Arabic,system-ui,sans-serif;font-size:21px;line-height:2;color:var(--mk-text)}.alignRight[data-v-50144d93]{text-align:right}.hint[data-v-50144d93]{margin-top:12px;font-size:14px;opacity:.8;text-align:center}.space[data-v-50144d93]{height:24px}.skeleton-line[data-v-50144d93]{height:14px;border-radius:10px;margin:10px 0;animation:sk-50144d93 1.2s infinite;background:linear-gradient(90deg,rgba(255,255,255,.08),rgba(255,255,255,.22),rgba(255,255,255,.08))}.saintPage.theme-light .skeleton-line[data-v-50144d93]{background:linear-gradient(90deg,rgba(0,0,0,.06),rgba(0,0,0,.1),rgba(0,0,0,.06))}.skeleton-line.short[data-v-50144d93]{width:60%}@keyframes sk-50144d93{0%{filter:brightness(1)}50%{filter:brightness(1.25)}to{filter:brightness(1)}}\n/*$vite$:1*/",document.head.appendChild(a);const I={class:"wrap"},L={class:"pageTitle"},E={key:0,class:"card bigCard"},O={key:1,class:"card bigCard"},R={class:"text alignRight"},A={key:2,class:"hint"};t("default",z(e({__name:"SaintPage",setup(t){const a=s(),e=r(localStorage.getItem("mk_theme")||"light"),z=r(Number(localStorage.getItem("mk_fontScale")||"1")),N=n(()=>"dark"===e.value?"theme-dark":"theme-light"),X=r(""),Y=r(""),j=r(!0),K=r("");function B(t,...a){for(const e of a){const a=e.trim().toLowerCase().replace(/\s+/g,"_");if(void 0!==t[a]&&null!==t[a]&&""!==String(t[a]).trim())return t[a]}return""}async function T(){const t=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRzBoz5JKy5BfRIXlo_rOSIYsce_9oXsLG9R07CvC3-MztLmg3vv7EYoNLFdt9YmL21tv8XYevOxedh/pub?gid=0&single=true&output=csv",{cache:"no-store"}),a=await t.text();return C.parse(a,{header:!0,skipEmptyLines:!0}).data.map(t=>function(t){const a={};return Object.keys(t||{}).forEach(e=>{const r=String(e).trim().toLowerCase().replace(/\s+/g,"_");a[r]=t[e]}),a}(t)).filter(t=>t.date_iso)}async function $(t){const a=(await T()).find(a=>String(a.date_iso||"").trim().substring(0,10)===t)||null;if(!a)return;const e=B(a,"saint"),r=B(a,"saint_story","saintstory","synaxarium","synaxarion");X.value=e,Y.value=r,m(t,{dateISO:t,saint:e,saintStory:r})}return i(()=>{document.documentElement.style.setProperty("--mk-fontScale",String(z.value)),document.documentElement.setAttribute("data-mk-theme",e.value),async function(t){const a=String(t||"").trim().substring(0,10);if(!a)return void(j.value=!1);K.value="";const e=u(a);if(null!=e&&e.saint||null!=e&&e.saintStory)return X.value=e.saint||"",Y.value=e.saintStory||"",j.value=!1,void $(a).catch(console.error);j.value=!0,X.value="",Y.value="";try{await $(a)}catch(r){console.error(r),K.value="حصلت مشكلة في تحميل السنكسار. تأكدي من الإنترنت."}finally{j.value=!1}}(String(a.params.dateISO||"").substring(0,10)).catch(console.error)}),(t,a)=>(P(),o(c(g),{class:l(["saintPage",N.value]),dir:"rtl"},{default:d(()=>[f(c(y),{translucent:!0},{default:d(()=>[f(c(v),null,{default:d(()=>[f(c(b),{slot:"start"},{default:d(()=>[f(c(p),{"default-href":"/"})]),_:1}),f(c(k),null,{default:d(()=>[h(x(X.value||"السنكسار"),1)]),_:1})]),_:1})]),_:1}),f(c(w),{fullscreen:!0,class:"content"},{default:d(()=>[a[2]||(a[2]=_("div",{class:"bg"},null,-1)),_("div",I,[_("div",L,x(X.value),1),j.value?(P(),S("div",E,[...a[0]||(a[0]=[_("div",{class:"skeleton-line"},null,-1),_("div",{class:"skeleton-line"},null,-1),_("div",{class:"skeleton-line short"},null,-1)])])):Y.value?(P(),S("div",O,[_("p",R,x(Y.value),1)])):(P(),S("div",A,x(K.value||"لا توجد قصة متاحة لهذا اليوم."),1)),a[1]||(a[1]=_("div",{class:"space"},null,-1))])]),_:1})]),_:1},8,["class"]))}}),[["__scopeId","data-v-50144d93"]]))}}});
