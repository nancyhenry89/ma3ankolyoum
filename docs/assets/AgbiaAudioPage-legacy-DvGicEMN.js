System.register(["./index-legacy-C3RZ0q2e.js"],function(t,a){"use strict";var e,n,i,o,s,l,r,c,d,u,p,b,v,f,g,m,y,x,h,k,_,w,z,C,L,O,S,j;return{setters:[t=>{e=t.d,n=t.c,i=t.u,o=t.r,s=t.o,l=t.x,r=t.a,c=t.w,d=t.b,u=t.I,p=t.P,b=t.g,v=t.h,f=t.i,g=t.j,m=t.k,y=t.l,x=t.m,h=t.p,k=t.q,_=t.t,w=t.F,z=t.y,C=t.s,L=t.v,O=t.n,S=t.z,j=t._}],execute:function(){var a=document.createElement("style");a.textContent="ion-page[data-v-82bcba30]{font-family:Noto Naskh Arabic,system-ui,sans-serif;background:#f4f7fb;color:#0b1f33}.card[data-v-82bcba30]{border-radius:18px;padding:18px;background:#fff;border:1px solid rgba(24,42,68,.1);box-shadow:0 8px 18px rgba(10,20,30,.07)}.date[data-v-82bcba30]{font-weight:900;font-size:18px;margin-bottom:14px;text-align:center;color:#182a44}.hint[data-v-82bcba30]{margin-top:12px;font-size:14px;text-align:center;opacity:.8}.list[data-v-82bcba30]{display:grid;gap:12px;margin-top:12px}.item[data-v-82bcba30]{border-radius:14px;padding:14px;background:rgba(32,178,170,.06);border:1px solid rgba(32,178,170,.25)}.title[data-v-82bcba30]{font-weight:900;font-size:16px;margin-bottom:10px;text-align:center;color:#182a44}.playerWrap[data-v-82bcba30]{margin-top:6px}.file[data-v-82bcba30]{margin-top:6px;font-size:12px;opacity:.7;text-align:center}.item.off[data-v-82bcba30]{background:rgba(0,0,0,.03);border-color:rgba(0,0,0,.12)}.unavailable[data-v-82bcba30]{text-align:center;font-size:13px;padding:10px 0}audio[data-v-82bcba30]{width:100%}.title[data-v-82bcba30],.unavailable[data-v-82bcba30],.file[data-v-82bcba30]{direction:rtl}\n/*$vite$:1*/",document.head.appendChild(a);const N={class:"card"},R={class:"date"},A={key:0,class:"hint"},E={key:1,class:"hint"},I={key:2,class:"list"},P={class:"title"},Y={key:0,class:"playerWrap"},X=["src"],q={key:0,class:"file"},B={key:1,class:"unavailable"};t("default",j(e({__name:"AgbiaAudioPage",setup(t){const a=i(),e=n(()=>String(a.params.date||"").substring(0,10)),j=o(!0),F=o(!1),G=o(null),M=Object.assign({"/src/content/audio/2025-12-18.mp3":"/ma3ankolyoum/assets/2025-12-18-udkVOgYC.mp3","/src/content/audio/coptic/pennouti.mp3":"/ma3ankolyoum/assets/pennouti-5eGRe_v0.mp3"});console.log("MP3 found:",Object.keys(M));const U={};for(const[n,i]of Object.entries(M)){const t=n.split("/").pop()||"";t&&(U[t]=i)}function W(t){const a=t.target;document.querySelectorAll("audio").forEach(t=>{t!==a&&t.pause()})}function $(t){try{const a=new URL(t);return decodeURIComponent(a.pathname.split("/").pop()||"")}catch{return""}}const J=[{key:"baker",title:"صلاة باكر"},{key:"third",title:"صلاة الساعة الثالثة"},{key:"sixth",title:"صلاة الساعة السادسة"},{key:"ninth",title:"صلاة الساعة التاسعة"},{key:"sunset",title:"صلاة الغروب"},{key:"sleep",title:"صلاة النوم"}],K=n(()=>{const t=G.value;return t?J.map(a=>{const e=function(t){const a=String(null!=t?t:"").trim();return a?/^https?:\/\//i.test(a)?a:U[a]||"":""}(t[a.key]);return{...a,src:e,fileName:e?$(e):""}}):[]});async function V(){j.value=!0,F.value=!1,G.value=null;try{const t=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRzBoz5JKy5BfRIXlo_rOSIYsce_9oXsLG9R07CvC3-MztLmg3vv7EYoNLFdt9YmL21tv8XYevOxedh/pub?gid=0&single=true&output=csv",{cache:"no-store"}),a=await t.text(),n=p.parse(a,{header:!0,skipEmptyLines:!0}).data.map(t=>function(t){const a={};return Object.keys(t||{}).forEach(e=>{const n=String(e).trim().toLowerCase().replace(/\s+/g,"_");a[n]=t[e]}),a}(t)).filter(t=>t.date_iso),i=e.value,o=n.find(t=>String(t.date_iso).trim().substring(0,10)===i)||null;o?(G.value=o,F.value=!0):F.value=!1}catch(t){F.value=!1,G.value=null}finally{j.value=!1}}return s(V),l(e,V),(t,a)=>(L(),r(d(u),{dir:"rtl"},{default:c(()=>[b(d(x),{translucent:!0},{default:c(()=>[b(d(v),null,{default:c(()=>[b(d(f),{slot:"start"},{default:c(()=>[b(d(g),{"default-href":"/"})]),_:1}),b(d(m),null,{default:c(()=>[...a[0]||(a[0]=[y("صوت الأجبية",-1)])]),_:1})]),_:1})]),_:1}),b(d(C),{class:"ion-padding"},{default:c(()=>[h("div",N,[h("div",R,_(e.value),1),j.value?(L(),k("div",A,"جاري تحميل البيانات...")):F.value?(L(),k("div",I,[(L(!0),k(w,null,z(K.value,t=>(L(),k("div",{key:t.key,class:O(["item",{off:!t.src}])},[h("div",P,_(t.title),1),t.src?(L(),k("div",Y,[h("audio",{controls:"",preload:"none",src:t.src,style:{width:"100%"},onPlay:W},null,40,X),t.fileName?(L(),k("div",q,_(t.fileName),1)):S("",!0)])):(L(),k("div",B,"غير متاح"))],2))),128))])):(L(),k("div",E,"لا يوجد بيانات لهذا اليوم."))])]),_:1})]),_:1}))}}),[["__scopeId","data-v-82bcba30"]]))}}});
