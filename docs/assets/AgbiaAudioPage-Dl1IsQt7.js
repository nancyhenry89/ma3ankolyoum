import{d as x,c as b,u as B,r as v,o as L,x as E,a as O,w as r,b as n,I as j,P as z,g as c,h as F,i as V,j as Y,k as J,l as M,m as U,p as _,q as a,t as m,F as T,y as X,s as D,v as o,n as K,z as q,_ as G}from"./index-BTltVE51.js";const H="/assets/2025-12-18-udkVOgYC.mp3",W="/assets/1Jan_eb2oro-MNy-9CnA.mp3",Q="/assets/Jan2_biagios-DaenujNK.mp3",Z="/assets/pennouti-5eGRe_v0.mp3",$={class:"card"},tt={class:"date"},et={key:0,class:"hint"},st={key:1,class:"hint"},ot={key:2,class:"list"},at={class:"title"},nt={key:0,class:"playerWrap"},it=["src"],rt={key:0,class:"file"},ct={key:1,class:"unavailable"},lt="https://docs.google.com/spreadsheets/d/e/2PACX-1vRzBoz5JKy5BfRIXlo_rOSIYsce_9oXsLG9R07CvC3-MztLmg3vv7EYoNLFdt9YmL21tv8XYevOxedh/pub?gid=0&single=true&output=csv",ut=x({__name:"AgbiaAudioPage",setup(dt){const C=B(),p=b(()=>String(C.params.date||"").substring(0,10)),f=v(!0),l=v(!1),d=v(null),y=Object.assign({"/src/content/audio/2025-12-18.mp3":H,"/src/content/audio/coptic/1Jan_eb2oro.mp3":W,"/src/content/audio/coptic/Jan2_biagios.mp3":Q,"/src/content/audio/coptic/pennouti.mp3":Z});console.log("MP3 found:",Object.keys(y));const g={};for(const[s,t]of Object.entries(y)){const e=s.split("/").pop()||"";e&&(g[e]=t)}function I(s){const t=String(s!=null?s:"").trim();return t?/^https?:\/\//i.test(t)?t:g[t]||"":""}function w(s){const t=s.target;document.querySelectorAll("audio").forEach(i=>{i!==t&&i.pause()})}function N(s){const t={};return Object.keys(s||{}).forEach(e=>{const i=String(e).trim().toLowerCase().replace(/\s+/g,"_");t[i]=s[e]}),t}function R(s){try{const t=new URL(s);return decodeURIComponent(t.pathname.split("/").pop()||"")}catch(t){return""}}const S=[{key:"baker",title:"صلاة باكر"},{key:"third",title:"صلاة الساعة الثالثة"},{key:"sixth",title:"صلاة الساعة السادسة"},{key:"ninth",title:"صلاة الساعة التاسعة"},{key:"sunset",title:"صلاة الغروب"},{key:"sleep",title:"صلاة النوم"}],A=b(()=>{const s=d.value;return s?S.map(t=>{const e=I(s[t.key]);return{...t,src:e,fileName:e?R(e):""}}):[]});async function h(){f.value=!0,l.value=!1,d.value=null;try{const t=await(await fetch(lt,{cache:"no-store"})).text(),i=z.parse(t,{header:!0,skipEmptyLines:!0}).data.map(u=>N(u)).filter(u=>u.date_iso),P=p.value,k=i.find(u=>String(u.date_iso).trim().substring(0,10)===P)||null;k?(d.value=k,l.value=!0):l.value=!1}catch(s){l.value=!1,d.value=null}finally{f.value=!1}}return L(h),E(p,h),(s,t)=>(o(),O(n(j),{dir:"rtl"},{default:r(()=>[c(n(U),{translucent:!0},{default:r(()=>[c(n(F),null,{default:r(()=>[c(n(V),{slot:"start"},{default:r(()=>[c(n(Y),{"default-href":"/"})]),_:1}),c(n(J),null,{default:r(()=>[...t[0]||(t[0]=[M("صوت الأجبية",-1)])]),_:1})]),_:1})]),_:1}),c(n(D),{class:"ion-padding"},{default:r(()=>[_("div",$,[_("div",tt,m(p.value),1),f.value?(o(),a("div",et,"جاري تحميل البيانات...")):l.value?(o(),a("div",ot,[(o(!0),a(T,null,X(A.value,e=>(o(),a("div",{key:e.key,class:K(["item",{off:!e.src}])},[_("div",at,m(e.title),1),e.src?(o(),a("div",nt,[_("audio",{controls:"",preload:"none",src:e.src,style:{width:"100%"},onPlay:w},null,40,it),e.fileName?(o(),a("div",rt,m(e.fileName),1)):q("",!0)])):(o(),a("div",ct,"غير متاح"))],2))),128))])):(o(),a("div",st,"لا يوجد بيانات لهذا اليوم."))])]),_:1})]),_:1}))}}),pt=G(ut,[["__scopeId","data-v-82bcba30"]]);export{pt as default};
