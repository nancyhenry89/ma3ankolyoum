System.register(["./index-legacy-Cu1uz5Nr.js"],function(a,t){"use strict";var e,r,n,i,s,c,o,d,l,g,u,m,f,v,b,p,k,h,x,y,_,S,w,C,P,z;return{setters:[a=>{e=a.d,r=a.r,n=a.c,i=a.o,s=a.u,c=a.a,o=a.w,d=a.n,l=a.b,g=a.I,u=a.e,m=a.f,f=a.g,v=a.h,b=a.i,p=a.j,k=a.k,h=a.l,x=a.t,y=a.m,_=a.p,S=a.q,w=a.s,C=a.P,P=a.v,z=a._}],execute:function(){var t=document.createElement("style");t.textContent=".saintPage.theme-light[data-v-a28d9c7c]{--mk-bg1:#f4f7fb;--mk-bg2:#ffffff;--mk-text:#0b1f33;--mk-card:#ffffff;--mk-accent:#20b2aa;--mk-dark:#182a44;--mk-danger:#d64545;--mk-border:rgba(24,42,68,.1);--mk-shadow:0 8px 18px rgba(10,20,30,.07);--mk-shadow-strong:0 14px 28px rgba(10,20,30,.1);--mk-soft:rgba(32,178,170,.12);--mk-soft-border:rgba(32,178,170,.28)}.saintPage.theme-dark[data-v-a28d9c7c]{--mk-bg1:#060b12;--mk-bg2:#0b1220;--mk-text:#f5f7fa;--mk-card:rgba(255,255,255,.08);--mk-accent:#28d6cc;--mk-dark:#0f1b2f;--mk-danger:#ff7a7a;--mk-border:rgba(255,255,255,.14);--mk-shadow:0 14px 28px rgba(0,0,0,.45);--mk-shadow-strong:0 18px 34px rgba(0,0,0,.6);--mk-soft:rgba(40,214,204,.2);--mk-soft-border:rgba(40,214,204,.35)}.content[data-v-a28d9c7c]{color:var(--mk-text)}.bg[data-v-a28d9c7c]{position:fixed;top:0;right:0;bottom:0;left:0;background:radial-gradient(1200px 600px at 20% -10%,rgba(32,178,170,.22),transparent 60%),radial-gradient(900px 500px at 90% 0%,rgba(24,42,68,.18),transparent 55%),linear-gradient(to bottom,var(--mk-bg1),var(--mk-bg2));z-index:0}.wrap[data-v-a28d9c7c]{position:relative;z-index:1;padding:calc(env(safe-area-inset-top) + 22px) 16px 0;max-width:720px;margin:0 auto;transform:scale(var(--mk-fontScale, 1));transform-origin:top center}.pageTitle[data-v-a28d9c7c]{text-align:center;font-family:Noto Kufi Arabic,system-ui,sans-serif;font-size:15px;font-weight:900;margin:10px 0 14px;color:var(--mk-text)}.card[data-v-a28d9c7c]{background:var(--mk-card);border-radius:18px;border:1px solid var(--mk-border);box-shadow:var(--mk-shadow);padding:20px 18px}.saintPage.theme-dark .card[data-v-a28d9c7c]{background:rgba(255,255,255,.06)}.bigCard[data-v-a28d9c7c]{margin:12px 0}.text[data-v-a28d9c7c]{font-family:Amiri,serif;font-size:21px;line-height:2;color:var(--mk-text)}.alignRight[data-v-a28d9c7c]{text-align:right}.hint[data-v-a28d9c7c]{margin-top:12px;font-size:14px;opacity:.8;text-align:center}.space[data-v-a28d9c7c]{height:24px}.skeleton-line[data-v-a28d9c7c]{height:14px;border-radius:10px;margin:10px 0;animation:sk-a28d9c7c 1.2s infinite;background:linear-gradient(90deg,rgba(255,255,255,.08),rgba(255,255,255,.22),rgba(255,255,255,.08))}.saintPage.theme-light .skeleton-line[data-v-a28d9c7c]{background:linear-gradient(90deg,rgba(0,0,0,.06),rgba(0,0,0,.1),rgba(0,0,0,.06))}.skeleton-line.short[data-v-a28d9c7c]{width:60%}@keyframes sk-a28d9c7c{0%{filter:brightness(1)}50%{filter:brightness(1.25)}to{filter:brightness(1)}}\n/*$vite$:1*/",document.head.appendChild(t);const I={class:"wrap"},L={class:"pageTitle"},E={key:0,class:"card bigCard"},O={key:1,class:"card bigCard"},R={class:"text alignRight"},A={key:2,class:"hint"};a("default",z(e({__name:"SaintPage",setup(a){const t=s(),e=r(localStorage.getItem("mk_theme")||"light"),z=r(Number(localStorage.getItem("mk_fontScale")||"1")),X=n(()=>"dark"===e.value?"theme-dark":"theme-light"),Y=r(""),j=r(""),N=r(!0),B=r("");function K(a,...t){for(const e of t){const t=e.trim().toLowerCase().replace(/\s+/g,"_");if(void 0!==a[t]&&null!==a[t]&&""!==String(a[t]).trim())return a[t]}return""}async function T(){const a=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRzBoz5JKy5BfRIXlo_rOSIYsce_9oXsLG9R07CvC3-MztLmg3vv7EYoNLFdt9YmL21tv8XYevOxedh/pub?gid=0&single=true&output=csv",{cache:"no-store"}),t=await a.text();return C.parse(t,{header:!0,skipEmptyLines:!0}).data.map(a=>function(a){const t={};return Object.keys(a||{}).forEach(e=>{const r=String(e).trim().toLowerCase().replace(/\s+/g,"_");t[r]=a[e]}),t}(a)).filter(a=>a.date_iso)}async function $(a){const t=(await T()).find(t=>String(t.date_iso||"").trim().substring(0,10)===a)||null;if(!t)return;const e=K(t,"saint"),r=K(t,"saint_story","saintstory","synaxarium","synaxarion");Y.value=e,j.value=r,m(a,{dateISO:a,saint:e,saintStory:r})}return i(()=>{document.documentElement.style.setProperty("--mk-fontScale",String(z.value)),document.documentElement.setAttribute("data-mk-theme",e.value),async function(a){const t=String(a||"").trim().substring(0,10);if(!t)return void(N.value=!1);B.value="";const e=u(t);if(null!=e&&e.saint||null!=e&&e.saintStory)return Y.value=e.saint||"",j.value=e.saintStory||"",N.value=!1,void $(t).catch(console.error);N.value=!0,Y.value="",j.value="";try{await $(t)}catch(r){console.error(r),B.value="حصلت مشكلة في تحميل السنكسار. تأكدي من الإنترنت."}finally{N.value=!1}}(String(t.params.dateISO||"").substring(0,10)).catch(console.error)}),(a,t)=>(P(),c(l(g),{class:d(["saintPage",X.value]),dir:"rtl"},{default:o(()=>[f(l(y),{translucent:!0},{default:o(()=>[f(l(v),null,{default:o(()=>[f(l(b),{slot:"start"},{default:o(()=>[f(l(p),{"default-href":"/"})]),_:1}),f(l(k),null,{default:o(()=>[h(x(Y.value||"السنكسار"),1)]),_:1})]),_:1})]),_:1}),f(l(w),{fullscreen:!0,class:"content"},{default:o(()=>[t[2]||(t[2]=_("div",{class:"bg"},null,-1)),_("div",I,[_("div",L,x(Y.value),1),N.value?(P(),S("div",E,[...t[0]||(t[0]=[_("div",{class:"skeleton-line"},null,-1),_("div",{class:"skeleton-line"},null,-1),_("div",{class:"skeleton-line short"},null,-1)])])):j.value?(P(),S("div",O,[_("p",R,x(j.value),1)])):(P(),S("div",A,x(B.value||"لا توجد قصة متاحة لهذا اليوم."),1)),t[1]||(t[1]=_("div",{class:"space"},null,-1))])]),_:1})]),_:1},8,["class"]))}}),[["__scopeId","data-v-a28d9c7c"]]))}}});
